(function(e){function t(t){for(var a,r,o=t[0],c=t[1],l=t[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);u&&u(t);while(h.length)h.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},i={app:0},s=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"242f":function(e,t,n){},"28e2":function(e,t,n){"use strict";var a=n("c3b3"),i=n.n(a);i.a},"2e7c":function(e,t,n){},"42d5":function(e,t,n){"use strict";var a=n("875f"),i=n.n(a);i.a},"540d":function(e,t,n){},"5a71":function(e,t){e.exports=cbkzxtArScenes},"5c0b":function(e,t,n){"use strict";var a=n("9c0c"),i=n.n(a);i.a},"61d9":function(e,t,n){"use strict";var a=n("f308"),i=n.n(a);i.a},"6ca4":function(e,t,n){},"70a3":function(e,t,n){},7767:function(e,t,n){"use strict";var a=n("ca0a"),i=n.n(a);i.a},"875f":function(e,t,n){},"8bbf":function(e,t){e.exports=Vue},"8cd3":function(e,t,n){},"92b3":function(e,t,n){"use strict";var a=n("540d"),i=n.n(a);i.a},"93b1":function(e,t,n){"use strict";var a=n("2e7c"),i=n.n(a);i.a},"9c0c":function(e,t,n){},b52d:function(e,t,n){"use strict";var a=n("70a3"),i=n.n(a);i.a},beeb:function(e,t){e.exports=cbkzxtArBasic},c0d0:function(e,t,n){"use strict";var a=n("e3e7"),i=n.n(a);i.a},c34e:function(e,t,n){"use strict";var a=n("242f"),i=n.n(a);i.a},c3b3:function(e,t,n){},ca0a:function(e,t,n){},cb13:function(e,t,n){"use strict";var a=n("f314"),i=n.n(a);i.a},cd49:function(e,t,n){"use strict";n.r(t);n("4ec9"),n("d3b7"),n("3ca3"),n("ddb0"),n("96cf");var a=n("1da1"),i=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("9483"));console.log("".concat("/","service-worker.js")),Object(i["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var s,r=n("ecee"),o=n("c074"),c=n("ad3d"),l=n("8bbf"),u=n.n(l),d=n("beeb"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"filled",class:e.appClass,attrs:{id:"app"}},[n("div",{staticClass:"filled",attrs:{id:"cam"}}),n("Loading",{ref:"Loading",model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}}),n("DetailPanel",{ref:"DetailPanel",attrs:{hide:e.loading||e.setOpened,scene:e.scene},model:{value:e.detailOpened,callback:function(t){e.detailOpened=t},expression:"detailOpened"}}),n("MainSetPanel",{attrs:{hide:e.loading||e.detailOpened},model:{value:e.setOpened,callback:function(t){e.setOpened=t},expression:"setOpened"}})],1)},v=[],f=(n("99af"),n("d4ec")),p=n("bee2"),b=n("262e"),m=n("2caf"),O=n("9ab4"),y=n("60a3"),g=n("5a71"),j=function(){function e(){Object(f["a"])(this,e),this.reset()}return Object(p["a"])(e,[{key:"reset",value:function(){this.lastTouchEnd=0,this.lastX=-100,this.lastY=-100}},{key:"prevent",value:function(e){var t=performance.now();e.cancelable&&t-this.lastTouchEnd<30&&Object(d["distance"])(e.changedTouches[0].clientX,e.changedTouches[0].clientY,this.lastX,this.lastY)<24?(e.preventDefault(),this.reset()):(this.lastTouchEnd=t,this.lastX=e.changedTouches[0].clientX,this.lastY=e.changedTouches[0].clientY)}}],[{key:"prev",value:function(t){var n=new e;t.addEventListener("touchend",n.prevent.bind(n))}}]),e}(),w=j,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"detail-panel-box filled",class:e.panelClass},[n("transition",{attrs:{name:"flow-up"}},[e.opened?e._e():n("div",{key:e.info.toast,staticClass:"detail-panel-toast"},[e._v(e._s(e.info.toast))])]),n("div",{staticClass:"detail-panel panel filled"},[n("div",{staticClass:"detail-panel-content filled"},[n("transition",{attrs:{name:"fade"}},[e.afterOpened&&"none"===e.type?n("NoneBox",{key:"noneBox",attrs:{scene:e.scene||"none"}}):e.afterOpened&&"model"===e.type?n("ModelBox",{key:"modelBox",attrs:{scene:e.scene}}):e.afterOpened&&"video"===e.type?n("VideoBox",{key:"videoBox",attrs:{scene:e.scene}}):e._e()],1)],1),n("div",{staticClass:"simple-info filled"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("div",{key:e.title,staticClass:"title"},[e._v(e._s(e.title))])]),n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.afterClosed?n("button",{key:e.info.button,staticClass:"block",class:[e.info.buttonClass],attrs:{ontouchstart:""},on:{mouseup:e.open}},[n("fa-icon",{attrs:{icon:e.info.icon}}),e._v(e._s(e.info.button))],1):e._e()])],1),n("transition",{attrs:{name:"fade"}},[e.afterOpened?n("button",{staticClass:"detail-close none",attrs:{ontouchstart:""},on:{mouseup:e.close}},[e._v("✕")]):e._e()])],1)],1)},_=[],C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"extend-panel",class:e.panelClass},[e._t("default")],2)},x=[],S=function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.afterClosed=!0,e.afterOpened=!1,e.timer=0,e}return Object(p["a"])(n,[{key:"openedWatcher",value:function(e){var t=this;this.timer&&(clearTimeout(this.timer),this.timer=0),e?(this.afterClosed=!1,this.timer=setTimeout((function(){t.afterOpened=!0}),this.animTime)):(this.afterOpened=!1,this.timer=setTimeout((function(){t.afterClosed=!0}),this.animTime))}},{key:"close",value:function(){this.$emit("input",!1)}},{key:"open",value:function(){this.$emit("input",!0)}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"mounted",value:function(){this.afterClosed=!this.value,this.afterOpened=this.value}},{key:"animTime",get:function(){return{"ease-trans":600,"easy-trans":200,"none-trans":100}[y["e"].$sets.trans]}},{key:"opened",get:function(){return this.value}},{key:"panelClass",get:function(){return{opened:this.value,hide:this.hide}}}]),n}(y["e"]);return Object(O["a"])([Object(y["c"])({default:!1})],e.prototype,"hide",void 0),Object(O["a"])([Object(y["c"])({default:!1})],e.prototype,"value",void 0),Object(O["a"])([Object(y["f"])("value")],e.prototype,"openedWatcher",null),e=Object(O["a"])([y["a"]],e),e}(),T=S,V=T,I=n("2877"),P=Object(I["a"])(V,C,x,!1,null,null,null),$=P.exports,D=n("ade3"),B=(s={},Object(D["a"])(s,d["ArSceneType"].none,{toast:"暂未扫描到任何内容",button:"查看帮助",icon:"question-circle",buttonClass:""}),Object(D["a"])(s,d["ArSceneType"].video,{toast:"已定位到视频",button:"播放视频",icon:"video",buttonClass:"brown"}),Object(D["a"])(s,d["ArSceneType"].model,{toast:"已定位到模型",button:"查看模型",icon:"anchor",buttonClass:"blue"}),Object(D["a"])(s,d["ArSceneType"].exp,{toast:"已定位到实验",button:"查看实验",icon:"chart-line",buttonClass:"green"}),s),A=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TabedBox",{attrs:{scene:e.scene},model:{value:e.nowTab,callback:function(t){e.nowTab=t},expression:"nowTab"}})},E=[],G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tabed-box filled"},[n("div",{staticClass:"tabed-box-content filled unslider"},[e._t("default"),e.desc&&"desc"===e.value?n("DescBox",{attrs:{comp:e.desc}}):e._e(),"set"===e.value?n("SetPanel",{staticClass:"filled"}):e._e()],2),n("SelectGroup",{staticClass:"tab filled",attrs:{value:e.value},on:{input:function(t){return e.$emit("input",t)}}},[e._t("tabs"),e.desc?n("SelectItem",{attrs:{name:"desc"}},[n("fa-icon",{staticClass:"icon",attrs:{icon:"info-circle"}}),e._v("简介")],1):e._e(),n("SelectItem",{attrs:{name:"set"}},[n("fa-icon",{staticClass:"icon",attrs:{icon:"cog"}}),e._v("设置")],1)],2)],1)},R=[],M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"padding-box scroll filled"},[e.comp?n(e.comp,{tag:"component"}):e._e()],1)},N=[],X=function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(f["a"])(this,n),t.apply(this,arguments)}return n}(y["e"]);return Object(O["a"])([Object(y["c"])({default:null})],e.prototype,"comp",void 0),e=Object(O["a"])([y["a"]],e),e}(),L=X,W=L,F=Object(I["a"])(W,M,N,!1,null,null,null),Y=F.exports,z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select-group",attrs:{ontouchstart:""},on:{mouseup:e.clicked}},[e._t("default")],2)},q=[],U=(n("b0c0"),function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(f["a"])(this,n),t.apply(this,arguments)}return Object(p["a"])(n,[{key:"isActive",value:function(e){return this.value===e}},{key:"changeTo",value:function(e){this.$emit("input",e)}},{key:"clicked",value:function(e){var t=e.srcElement,n=[];while(t&&t!==this.$el)n.unshift(t),t=t.parentElement;for(var a=0,i=n;a<i.length;a++){var s,r=i[a],o=null===(s=r.__vue__)||void 0===s?void 0:s.name;if(o)return void this.$emit("input",o)}}}]),n}(y["e"]);return Object(O["a"])([Object(y["c"])()],e.prototype,"value",void 0),Object(O["a"])([Object(y["d"])()],e.prototype,"isActive",null),e=Object(O["a"])([y["a"]],e),e}()),J=U,H=J,K=(n("b52d"),Object(I["a"])(H,z,q,!1,null,null,null)),Q=K.exports,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"select-item",class:{active:e.isActive(e.name)}},[e._t("default")],2)},ee=[],te=function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(f["a"])(this,n),t.apply(this,arguments)}return n}(y["e"]);return Object(O["a"])([Object(y["c"])()],e.prototype,"name",void 0),Object(O["a"])([Object(y["b"])()],e.prototype,"isActive",void 0),e=Object(O["a"])([y["a"]],e),e}(),ne=te,ae=ne,ie=(n("de92"),Object(I["a"])(ae,Z,ee,!1,null,null,null)),se=ie.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"set-panel"},[n("div",{staticClass:"set-panel-content"},[n("div",{staticClass:"set-title"},[e._v("颜色主题")]),n("SelectGroup",{model:{value:e.sets.themeColor,callback:function(t){e.$set(e.sets,"themeColor",t)},expression:"sets.themeColor"}},[n("SelectItem",{attrs:{name:"system"}},[e._v("跟随系统")]),n("SelectItem",{attrs:{name:"dark"}},[e._v("深色")]),n("SelectItem",{attrs:{name:"light"}},[e._v("浅色")])],1),n("div",{staticClass:"set-title"},[e._v("面板背景")]),n("SelectGroup",{model:{value:e.sets.themePanel,callback:function(t){e.$set(e.sets,"themePanel",t)},expression:"sets.themePanel"}},[n("SelectItem",{attrs:{name:"glass"}},[e._v("毛玻璃")]),n("SelectItem",{attrs:{name:"trans"}},[e._v("半透明")]),n("SelectItem",{attrs:{name:"untrans"}},[e._v("不透明")])],1),n("div",{staticClass:"set-title"},[e._v("界面动画")]),n("SelectGroup",{model:{value:e.sets.trans,callback:function(t){e.$set(e.sets,"trans",t)},expression:"sets.trans"}},[n("SelectItem",{attrs:{name:"ease-trans"}},[e._v("弹性")]),n("SelectItem",{attrs:{name:"easy-trans"}},[e._v("简易")]),n("SelectItem",{attrs:{name:"none-trans"}},[e._v("无动画")])],1),n("div",{staticClass:"set-title"},[e._v("渲染")]),n("SelectGroup",{model:{value:e.sets.mat,callback:function(t){e.$set(e.sets,"mat",t)},expression:"sets.mat"}},[n("SelectItem",{attrs:{name:"origin"}},[e._v("原始材质")]),n("SelectItem",{attrs:{name:"normal"}},[e._v("炫彩材质")]),n("SelectItem",{attrs:{name:"color"}},[e._v("单色材质")])],1),n("SelectGroup",{model:{value:e.sets.light,callback:function(t){e.$set(e.sets,"light",t)},expression:"sets.light"}},[n("SelectItem",{attrs:{name:"on"}},[e._v("标准光照")]),n("SelectItem",{attrs:{name:"easy"}},[e._v("简易光照")]),n("SelectItem",{attrs:{name:"off"}},[e._v("无光照")])],1),n("SelectGroup",{model:{value:e.sets.shadow,callback:function(t){e.$set(e.sets,"shadow",t)},expression:"sets.shadow"}},[n("SelectItem",{attrs:{name:"on"}},[e._v("显示阴影")]),n("SelectItem",{attrs:{name:"off"}},[e._v("无阴影")])],1)],1),e._m(0)])},oe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"set-info"},[n("div",[e._v("效果最佳")]),n("div",[e._v("⇌")]),n("div",[e._v("性能最优")])])}],ce=function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(f["a"])(this,n),t.apply(this,arguments)}return Object(p["a"])(n,[{key:"sets",get:function(){return y["e"].$sets}}]),n}(y["e"]);return e=Object(O["a"])([Object(y["a"])({components:{SelectGroup:Q,SelectItem:se}})],e),e}(),le=ce,ue=le,de=(n("93b1"),Object(I["a"])(ue,re,oe,!1,null,null,null)),he=de.exports,ve=function(){var e,t=e=function(t){Object(b["a"])(a,t);var n=Object(m["a"])(a);function a(){var e;return Object(f["a"])(this,a),e=n.apply(this,arguments),e.desc=null,e}return Object(p["a"])(a,[{key:"updateScene",value:function(){var t=d["Loader"].scenes.get(this.scene)||e.defaultNone;this.desc=t.desc||null}},{key:"mounted",value:function(){this.updateScene()}}]),a}(y["e"]);return t.defaultNone=new d["ArScene"],Object(O["a"])([Object(y["c"])()],t.prototype,"scene",void 0),Object(O["a"])([Object(y["c"])({default:"desc"})],t.prototype,"value",void 0),Object(O["a"])([Object(y["f"])("scene")],t.prototype,"updateScene",null),t=e=Object(O["a"])([Object(y["a"])({components:{DescBox:Y,SelectGroup:Q,SelectItem:se,SetPanel:he}})],t),t}(),fe=ve,pe=fe,be=(n("7767"),Object(I["a"])(pe,G,R,!1,null,null,null)),me=be.exports,Oe=function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.nowTab="desc",e}return n}(y["e"]);return Object(O["a"])([Object(y["c"])()],e.prototype,"scene",void 0),e=Object(O["a"])([Object(y["a"])({components:{TabedBox:me}})],e),e}(),ye=Oe,ge=ye,je=Object(I["a"])(ge,A,E,!1,null,null,null),we=je.exports,ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TabedBox",{attrs:{scene:e.scene},scopedSlots:e._u([{key:"default",fn:function(){return[n("div",{directives:[{name:"show",rawName:"v-show",value:e.isCustomPage,expression:"isCustomPage"}],staticClass:"model-page"},[n("div",{staticClass:"model-control filled"},[n("transition",{attrs:{name:"flow-up"}},[n("SliderGroup",{directives:[{name:"show",rawName:"v-show",value:"view"===e.nowTab,expression:"nowTab === 'view'"}],staticClass:"filled",model:{value:e.nowViewControl,callback:function(t){e.nowViewControl=t},expression:"nowViewControl"}},[n("SelectItem",{attrs:{name:"rotateX"}},[e._v("俯仰")]),n("SelectItem",{attrs:{name:"rotateY"}},[e._v("环绕")]),n("SelectItem",{attrs:{name:"zoom"}},[e._v("远近")])],1)],1),n("transition",{attrs:{name:"flow-up"}},[n("SliderGroup",{directives:[{name:"show",rawName:"v-show",value:"control"===e.nowTab,expression:"nowTab === 'control'"}],staticClass:"filled",model:{value:e.nowParam,callback:function(t){e.nowParam=t},expression:"nowParam"}},e._l(e.params,(function(t){return n("SelectItem",{attrs:{name:t}},[e._v(e._s(t.name))])})),1)],1),n("transition",{attrs:{name:"flow-up"}},[e.showSliderGroup?n("SliderGroup",{staticClass:"filled value",model:{value:e.sliderGroupValue,callback:function(t){e.sliderGroupValue=t},expression:"sliderGroupValue"}},e._l(e.cases,(function(t){return n("SelectItem",{attrs:{name:e.nowParam.desc.cases.get(t)}},[e._v(e._s(t))])})),1):n("TickSlider",{ref:"slider",staticClass:"filled",attrs:{range:e.sliderRange},on:{sliding:e.slidingChange},model:{value:e.sliderValue,callback:function(t){e.sliderValue=t},expression:"sliderValue"}})],1)],1),n("ModelViewer",{ref:"model-viewer",staticClass:"filled",attrs:{shadow:"on"===e.appSet.shadow,light:e.appSet.light,mat:e.appSet.mat}}),n("transition",{attrs:{name:"flow-up"}},[n("ValueBubble",{directives:[{name:"show",rawName:"v-show",value:!e.showSliderGroup,expression:"!showSliderGroup"}],attrs:{value:e.sliderValue,unit:e.sliderRange.unit,fix:e.sliderRange.fix,big:e.tickSliding,ontouchstart:""},on:{dbclick:e.bubbleDbClick}})],1),n("button",{staticClass:"reset-view none",class:{hidden:e.viewIsInitValue},attrs:{ontouchstart:""},on:{mouseup:e.resetView}},[n("fa-icon",{attrs:{icon:"crosshairs"}}),e._v(" 复位")],1)],1)]},proxy:!0},{key:"tabs",fn:function(){return[n("SelectItem",{attrs:{name:"view"}},[n("fa-icon",{attrs:{icon:"eye"}}),e._v("观察")],1),n("SelectItem",{attrs:{name:"control"}},[n("fa-icon",{attrs:{icon:"sliders-h"}}),e._v("控制")],1)]},proxy:!0}]),model:{value:e.nowTab,callback:function(t){e.nowTab=t},expression:"nowTab"}})},_e=[],Ce=(n("a630"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"slider-group",style:{"--slider-item-width":e.itemWidth+"px"},on:{touchstart:e.touchStarted,touchmove:e.touchMoved,touchend:e.touchEnded}},[n("div",{staticClass:"helper-before",style:{width:e.helperWidthBefore}}),e._t("default"),n("div",{staticClass:"helper-after",style:{width:e.helperWidthAfter}})],2)}),xe=[],Se=(n("c740"),function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.activeIndex=0,e.touching=!1,e.startX=0,e}return Object(p["a"])(n,[{key:"mounted",value:function(){this.updateActiveIndex()}},{key:"childrenChange",value:function(){this.updateActiveIndex()}},{key:"valueChange",value:function(){this.updateActiveIndex()}},{key:"toBefore",value:function(){this.activeIndex>0&&this.changeTo(this.$children[this.activeIndex-1].name)}},{key:"toNext",value:function(){this.activeIndex<this.$children.length-1&&this.changeTo(this.$children[this.activeIndex+1].name)}},{key:"touchStarted",value:function(e){e.cancelable&&e.preventDefault(),this.touching=!0,this.startX=e.touches[0].clientX}},{key:"touchMoved",value:function(e){if(e.cancelable&&e.preventDefault(),this.touching){var t=e.touches[0].clientX-this.startX;Math.abs(t)>24&&(this.touching=!1,t>0?this.toBefore():this.toNext())}}},{key:"touchEnded",value:function(e){e.cancelable&&e.preventDefault(),this.touching&&(this.touching=!1,this.clicked(e))}},{key:"updateActiveIndex",value:function(){var e=this;this.activeIndex=this.$children.findIndex((function(t){return t.name===e.value}))}},{key:"helperWidthAfter",get:function(){return this.activeIndex*this.itemWidth+"px"}},{key:"helperWidthBefore",get:function(){return(this.$children.length-1-this.activeIndex)*this.itemWidth+"px"}}]),n}(Q);return Object(O["a"])([Object(y["c"])({default:96})],e.prototype,"itemWidth",void 0),Object(O["a"])([Object(y["f"])("$children")],e.prototype,"childrenChange",null),Object(O["a"])([Object(y["f"])("value")],e.prototype,"valueChange",null),e=Object(O["a"])([y["a"]],e),e}()),Te=Se,Ve=Te,Ie=(n("92b3"),Object(I["a"])(Ve,Ce,xe,!1,null,null,null)),Pe=Ie.exports,$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tick-slider",style:{"--tick-width":e.tickWidth+"px"},on:{touchstart:e.touchStarted,touchmove:e.touchMoved,touchend:e.touchEnded}},[n("div",{staticClass:"center-bar",class:{hidden:!e.sliding}}),n("div",{staticClass:"ticks filled",class:{sliding:e.sliding},style:{transform:"translateX("+e.transX+"px)"}},e._l(e.showTickNum,(function(t){return n("div",{staticClass:"tick",class:e.tickClass(t)})})),0)])},De=[],Be=function(){var e=function(){function e(){Object(f["a"])(this,e),this._value1=0,this._time1=-100,this._value2=0,this._time2=-100,this._freeV=0,this._velocity=0,this._looper=0,this.dampingTime=500,this.threshold={betweenChange:400,beforeFree:40,velocityMin:40}}return Object(p["a"])(e,[{key:"_keepLoop",value:function(){this._looper=requestAnimationFrame(this._loop.bind(this))}},{key:"_loop",value:function(t){var n=t-this._time2;if(this._velocity=this._freeV*(1-e._ease(n/this.dampingTime)),n>=this.dampingTime||!this._velocity)return this._looper=0,this.stop();this._value2+=this._velocity*n,this.exertingCallback&&this.exertingCallback(this._value2),this._keepLoop()}},{key:"stop",value:function(){this._looper&&(cancelAnimationFrame(this._looper),this._looper=0),this._velocity=0,this.stoppedCallback&&this.stoppedCallback(this._value2)}},{key:"changeValue",value:function(e,t){this._time1=this._time2,this._value1=this._value2,this._time2=t||performance.now(),this._value2=e;var n=this._time2-this._time1;this._velocity=n>this.threshold.betweenChange?0:(this._value2-this._value1)/n}},{key:"free",value:function(e){this._freeV=this._velocity,e||(e=performance.now());var t=e-this._time2;if(t>this.threshold.beforeFree)return this.stop();this._time2=performance.now(),this._keepLoop()}},{key:"value",get:function(){return this._value2},set:function(e){this.changeValue(e)}},{key:"velocity",get:function(){return this._velocity}}]),e}();return e._ease=Object(d["newEaseFunc"])(.15),e}(),Ae=Be,Ee=function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.sliding=!1,e.svalue=0,e.cDiv2=0,e.startValue=0,e.startX=0,e.inertia=new Ae,e}return Object(p["a"])(n,[{key:"_moved",value:function(e){var t=e-this.startX;this.svalue=this.startValue-t/this.tickWidth*this.range.step;var n=this.range.fixValue(this.svalue);n!=this.value&&this.$emit("input",n)}},{key:"mounted",value:function(){this.onResize()}},{key:"onResize",value:function(){this.cDiv2=this.$el.clientWidth/2}},{key:"tickClass",value:function(e){var t=e+this.beginTick;return{hidden:t<1||t>this.tickNum,big:t%this.range.group===1}}},{key:"touchStarted",value:function(e){this.sliding?this.startValue=this.svalue:(this.svalue=this.value,this.startValue=this.value,this.sliding=!0),this.startX=e.touches[0].clientX,this.inertia.stoppedCallback=void 0,this.inertia.exertingCallback=void 0,this.inertia.stop(),this.inertia.changeValue(this.startX),this.$emit("sliding",!0)}},{key:"touchMoved",value:function(e){e.preventDefault();var t=e.touches[0].clientX;this.inertia.changeValue(t),this._moved(t)}},{key:"touchEnded",value:function(e){var t=this;this.inertia.stoppedCallback=function(){t.sliding=!1,t.$emit("sliding",!1)},this.inertia.exertingCallback=this._moved.bind(this),this.inertia.free()}},{key:"beginTick",get:function(){return Math.floor((this.value-this.range.min)/this.range.step-this.cDiv2/this.tickWidth)}},{key:"showTickNum",get:function(){return 2*Math.ceil(this.cDiv2/this.tickWidth)}},{key:"tickNum",get:function(){return Math.floor(this.range.distance/this.range.step)+1}},{key:"transX",get:function(){if(!this.sliding)return 0;var e=(this.value-this.svalue)/this.range.step*this.tickWidth;return this.range.contain(this.svalue)?e:Object(d["stick"])(e)}}]),n}(y["e"]);return Object(O["a"])([Object(y["c"])({default:function(){return d["RangeDesc"].create()}})],e.prototype,"range",void 0),Object(O["a"])([Object(y["c"])({default:8})],e.prototype,"tickWidth",void 0),Object(O["a"])([Object(y["c"])({default:0})],e.prototype,"value",void 0),e=Object(O["a"])([y["a"]],e),e}(),Ge=Ee,Re=Ge,Me=(n("c0d0"),Object(I["a"])(Re,$e,De,!1,null,null,null)),Ne=Me.exports,Xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"value-bubble",class:{big:e.big},attrs:{ontouchstart:""},on:{mouseup:e.touched}},[e._v(e._s(e.vtext))])},Le=[],We=(n("b680"),function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.waitDbClick=0,e}return Object(p["a"])(n,[{key:"cleanDbClick",value:function(){clearTimeout(this.waitDbClick),this.waitDbClick=0}},{key:"touched",value:function(e){e.preventDefault(),this.waitDbClick?(this.cleanDbClick(),this.$emit("dbclick")):this.waitDbClick=setTimeout(this.cleanDbClick.bind(this),300)}},{key:"vtext",get:function(){return this.value.toFixed(this.fix)+this.unit}}]),n}(y["e"]);return Object(O["a"])([Object(y["c"])({default:!1})],e.prototype,"big",void 0),Object(O["a"])([Object(y["c"])({default:0})],e.prototype,"fix",void 0),Object(O["a"])([Object(y["c"])({default:""})],e.prototype,"unit",void 0),Object(O["a"])([Object(y["c"])({default:0})],e.prototype,"value",void 0),e=Object(O["a"])([y["a"]],e),e}()),Fe=We,Ye=Fe,ze=(n("28e2"),Object(I["a"])(Ye,Xe,Le,!1,null,null,null)),qe=ze.exports,Ue=function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.params=[],e.paramsValue={},e.nowTab="view",e.nowViewControl="rotateY",e.nowParam=null,e.sliderRange=new d["RangeDesc"],e.sliderGroupValue="",e.sliderValue=0,e.tickSliding=!1,e.viewIsInitValue=!0,e}return Object(p["a"])(n,[{key:"isSliderGroup",value:function(e){return e.cases}},{key:"mounted",value:function(){this.viewerComp=this.$refs["model-viewer"],this.$watch("viewerComp.viewController.cameraPosition",(function(){this.viewIsInitValue=this.viewerComp.viewController.isInitValue,this.updateSlider()})),this.sceneChanged(),this.updateSlider()}},{key:"nowTabChange",value:function(){"control"!==this.nowTab||this.nowParam||(this.nowParam=this.params[0]),this.updateSlider()}},{key:"nowViewControlChange",value:function(){this.updateSlider()}},{key:"nowParamChange",value:function(){this.updateSlider()}},{key:"sceneChanged",value:function(){this.nowScene=d["Loader"].scenes.get(this.scene),this.viewerComp.useScene(this.nowScene),this.nowScene&&(this.params=this.nowScene.params,this.paramsValue=this.nowScene.paramsValue.values)}},{key:"sliderValueChange",value:function(){"view"===this.nowTab?this.viewerComp.viewController[this.nowViewControl]=this.sliderValue:"control"===this.nowTab&&this.nowParam&&(this.paramsValue[this.nowParam.name]=this.sliderValue)}},{key:"sliderGroupValueChange",value:function(){"control"===this.nowTab&&this.nowParam&&(this.paramsValue[this.nowParam.name]=this.sliderGroupValue)}},{key:"bubbleDbClick",value:function(){this.sliderValue=d["OrbitValue"].ranges[this.nowViewControl].initValue}},{key:"pause",value:function(){var e;null===(e=this.viewerComp.modelRender)||void 0===e||e.pause()}},{key:"resetView",value:function(){this.viewerComp.viewController.reset(),this.updateSlider()}},{key:"slidingChange",value:function(e){this.tickSliding=e}},{key:"start",value:function(){var e;null===(e=this.viewerComp.modelRender)||void 0===e||e.start()}},{key:"updateSlider",value:function(){if("view"===this.nowTab)this.sliderRange=d["OrbitValue"].ranges[this.nowViewControl],this.sliderValue=this.viewerComp.viewController[this.nowViewControl];else if("control"===this.nowTab&&this.nowParam){var e=this.nowParam.desc;if(this.isSliderGroup(e))return this.sliderGroupValue=this.paramsValue[this.nowParam.name];this.sliderRange=e,this.sliderValue=this.paramsValue[this.nowParam.name]}}},{key:"isCustomPage",get:function(){return"desc"!==this.nowTab&&"set"!==this.nowTab}},{key:"appSet",get:function(){return y["e"].$sets}},{key:"showSliderGroup",get:function(){return"control"===this.nowTab&&this.nowParam&&this.isSliderGroup(this.nowParam.desc)}},{key:"cases",get:function(){return this.nowParam&&this.isSliderGroup(this.nowParam.desc)?Array.from(this.nowParam.desc.cases.keys()):[]}}]),n}(y["e"]);return Object(O["a"])([Object(y["c"])({default:""})],e.prototype,"scene",void 0),Object(O["a"])([Object(y["f"])("nowTab")],e.prototype,"nowTabChange",null),Object(O["a"])([Object(y["f"])("nowViewControl")],e.prototype,"nowViewControlChange",null),Object(O["a"])([Object(y["f"])("nowParam")],e.prototype,"nowParamChange",null),Object(O["a"])([Object(y["f"])("scene")],e.prototype,"sceneChanged",null),Object(O["a"])([Object(y["f"])("sliderValue")],e.prototype,"sliderValueChange",null),Object(O["a"])([Object(y["f"])("sliderGroupValue")],e.prototype,"sliderGroupValueChange",null),e=Object(O["a"])([Object(y["a"])({components:{ModelViewer:d["ModelViewer"],SelectItem:se,SliderGroup:Pe,TabedBox:me,TickSlider:Ne,ValueBubble:qe}})],e),e}(),Je=Ue,He=Je,Ke=(n("c34e"),Object(I["a"])(He,ke,_e,!1,null,null,null)),Qe=Ke.exports,Ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TabedBox",{attrs:{scene:e.scene},scopedSlots:e._u([{key:"default",fn:function(){return["video"===e.nowTab?n("div",{staticClass:"video-page filled"},[n("video",{staticClass:"filled",attrs:{src:e.video,controls:"",autoplay:"",loop:""}})]):e._e()]},proxy:!0},{key:"tabs",fn:function(){return[n("SelectItem",{attrs:{name:"video"}},[n("fa-icon",{attrs:{icon:"eye"}}),e._v("视频")],1)]},proxy:!0}]),model:{value:e.nowTab,callback:function(t){e.nowTab=t},expression:"nowTab"}})},et=[],tt=function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.nowTab="video",e.video="",e}return Object(p["a"])(n,[{key:"sceneChanged",value:function(){this.nowScene=d["Loader"].scenes.get(this.scene),this.video=this.nowScene.videoUrl}},{key:"mounted",value:function(){this.sceneChanged()}}]),n}(y["e"]);return Object(O["a"])([Object(y["c"])({default:""})],e.prototype,"scene",void 0),Object(O["a"])([Object(y["f"])("scene")],e.prototype,"sceneChanged",null),e=Object(O["a"])([Object(y["a"])({components:{SelectItem:se,TabedBox:me}})],e),e}(),nt=tt,at=nt,it=(n("d877"),Object(I["a"])(at,Ze,et,!1,null,null,null)),st=it.exports,rt=function(){var e,t=e=function(t){Object(b["a"])(a,t);var n=Object(m["a"])(a);function a(){var e;return Object(f["a"])(this,a),e=n.apply(this,arguments),e.info=B[d["ArSceneType"].none],e.title="",e.type="none",e}return Object(p["a"])(a,[{key:"updateScene",value:function(){var t=d["Loader"].scenes.get(this.scene)||e.defaultNone;this.title=t.title,this.type=d["ArSceneType"][t.sceneType],this.info=B[t.sceneType]}},{key:"mounted",value:function(){this.updateScene()}}]),a}($);return t.defaultNone=new d["ArScene"],Object(O["a"])([Object(y["c"])({default:""})],t.prototype,"scene",void 0),Object(O["a"])([Object(y["f"])("scene")],t.prototype,"updateScene",null),t=e=Object(O["a"])([Object(y["a"])({components:{NoneBox:we,ModelBox:Qe,VideoBox:st}})],t),t}(),ot=rt,ct=ot,lt=(n("61d9"),Object(I["a"])(ct,k,_,!1,null,null,null)),ut=lt.exports,dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"loading filled",class:e.panelClass},[n("div",{staticClass:"panel"},[n("transition",{attrs:{name:"fade"}},[e.afterOpened?n("div",{staticClass:"content filled"},[n("div",{staticClass:"anim"},[n("div",{staticClass:"p1"}),n("div",{staticClass:"p2"}),n("div",{staticClass:"p3"}),n("div",{staticClass:"p4"})]),n("div",{staticClass:"info"},[n("div",[e._v("已完成")]),n("div",[e._v(e._s(e.loaded)+" / "+e._s(e.total))]),n("div",[e._v("总计")])]),n("ProgressBar",{attrs:{value:e.loaded/e.total}}),n("div",{staticClass:"load-info"},[e._v(e._s(e.info))])],1):e._e()])],1)])},ht=[],vt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"progress-bar"},[n("div",{staticClass:"bar filled",style:{width:(100*e.value).toFixed(2)+"%"}},[n("div",{staticClass:"filled"})])])},ft=[],pt=function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(f["a"])(this,n),t.apply(this,arguments)}return n}(y["e"]);return Object(O["a"])([Object(y["c"])({default:0})],e.prototype,"value",void 0),e=Object(O["a"])([y["a"]],e),e}(),bt=pt,mt=bt,Ot=(n("dee8"),Object(I["a"])(mt,vt,ft,!1,null,null,null)),yt=Ot.exports,gt=function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.info="正在准备...",e.loaded=0,e.total=1,e}return n}($);return e=Object(O["a"])([Object(y["a"])({components:{ProgressBar:yt}})],e),e}(),jt=gt,wt=jt,kt=(n("cb13"),Object(I["a"])(wt,dt,ht,!1,null,null,null)),_t=kt.exports,Ct=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"main-set-panel-box",class:e.panelClass},[n("div",{staticClass:"main-set-panel panel unslider"},[n("transition",{attrs:{name:"fade"}},[e.afterOpened?n("SetPanel",{staticClass:"filled"}):e._e()],1)],1),n("button",{staticClass:"set-button none",on:{mouseup:e.toggle}},[n("transition",{attrs:{name:"roll"}},[e.opened?n("fa-icon",{key:"times",attrs:{icon:"times"}}):n("fa-icon",{key:"cog",attrs:{icon:"cog"}})],1)],1)])},xt=[],St=function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){return Object(f["a"])(this,n),t.apply(this,arguments)}return n}($);return e=Object(O["a"])([Object(y["a"])({components:{SetPanel:he}})],e),e}(),Tt=St,Vt=Tt,It=(n("42d5"),Object(I["a"])(Vt,Ct,xt,!1,null,null,null)),Pt=It.exports,$t=function(){var e=function(e){Object(b["a"])(n,e);var t=Object(m["a"])(n);function n(){var e;return Object(f["a"])(this,n),e=t.apply(this,arguments),e.detailOpened=!1,e.loading=!0,e.scene="none",e.setOpened=!1,e.resUrl="/resources",e}return Object(p["a"])(n,[{key:"initAR",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.render){e.next=2;break}return e.abrupt("return");case 2:return this.loading=!0,d["IDBFS"].resServer=this.resUrl,d["Loader"].processCB=function(e){var t=e.loaded,a=e.total,i=e.msg;n.info=i,n.loaded=t,n.total=a,console.log("(".concat(t,"/").concat(a,") ").concat(i))},e.next=7,d["Loader"].updateCache();case 7:return e.next=9,d["Loader"].loadScenes(g["scenes"]);case 9:return e.next=11,d["Loader"].initAR(t);case 11:return this.render=e.sent,e.next=14,d["Loader"].startAR();case 14:this.loading=!1;case 15:case"end":return e.stop()}}),e,this)})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.$refs.Loading,n=this.$refs.DetailPanel,a=document.getElementById("cam"),e.next=5,this.initAR(a,t);case 5:this.render.events.on("sceneChanged",(function(e){return i.scene=e&&e.sceneID||"none"})),w.prev(document.body),n.updateScene();case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"detailOpenedChanged",value:function(e){var t,n;e?null===(t=this.render)||void 0===t||t.hide():null===(n=this.render)||void 0===n||n.start()}},{key:"appClass",get:function(){var e=y["e"].$sets,t=e.themeColor,n=e.themePanel,a=e.trans;return[t,n,a]}}]),n}(y["e"]);return Object(O["a"])([Object(y["f"])("detailOpened")],e.prototype,"detailOpenedChanged",null),e=Object(O["a"])([Object(y["a"])({components:{DetailPanel:ut,Loading:_t,MainSetPanel:Pt}})],e),e}(),Dt=$t,Bt=Dt,At=(n("5c0b"),Object(I["a"])(Bt,h,v,!1,null,null,null)),Et=At.exports,Gt=(n("7039"),n("b85c")),Rt=function(){function e(){Object(f["a"])(this,e),this.themeColor="system",this.themePanel="glass",this.trans="ease-trans",this.mat="origin",this.light="on",this.shadow="on"}return Object(p["a"])(e,[{key:"saveToDb",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n,a){var i,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=6;break}return a||(a=this[n]),e.next=4,t.put("sets",{key:n,value:a});case 4:e.next=24;break;case 6:i=Object.getOwnPropertyNames(this),s=Object(Gt["a"])(i),e.prev=8,s.s();case 10:if((r=s.n()).done){e.next=16;break}return o=r.value,e.next=14,this.saveToDb(t,o);case 14:e.next=10;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e["catch"](8),s.e(e.t0);case 21:return e.prev=21,s.f(),e.finish(21);case 24:case"end":return e.stop()}}),e,this,[[8,18,21,24]])})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"loadFromDB",value:function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t,n){var a,i,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=10;break}return e.next=3,t.get("sets",n);case 3:if(a=e.sent,a){e.next=6;break}return e.abrupt("return");case 6:return this[n]=a.value,e.abrupt("return",a);case 10:i=Object.getOwnPropertyNames(this),s=Object(Gt["a"])(i),e.prev=12,s.s();case 14:if((r=s.n()).done){e.next=20;break}return o=r.value,e.next=18,this.loadFromDB(t,o);case 18:e.next=14;break;case 20:e.next=25;break;case 22:e.prev=22,e.t0=e["catch"](12),s.e(e.t0);case 25:return e.prev=25,s.f(),e.finish(25);case 28:return e.abrupt("return",this);case 29:case"end":return e.stop()}}),e,this,[[12,22,25,28]])})));function t(t,n){return e.apply(this,arguments)}return t}()}],[{key:"createAndLinkTo",value:function(t){var n=new e;return n.loadFromDB(t),new Proxy(n,{set:function(e,n,a){return e[n]=a,e.saveToDb(t,n,a),!0}})}}]),e}(),Mt=Rt;function Nt(){return Xt.apply(this,arguments)}function Xt(){return Xt=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.a.component("fa-icon",c["a"]),u.a.config.productionTip=!1,t=new Map([["sets",{param:{keyPath:"key"}}]]),e.next=5,d["IndexedDB"].open("cbkzxt-ar",200509,(function(e){d["IndexedDB"].createFromTables(e.result,t)}));case 5:u.a.$db=e.sent,u.a.$sets=new u.a({data:{sets:Mt.createAndLinkTo(u.a.$db)}}).sets,new u.a({render:function(e){return e(Et)}}).$mount("#app");case 8:case"end":return e.stop()}}),e)}))),Xt.apply(this,arguments)}r["c"].add(o["j"],o["c"],o["d"],o["i"],o["g"],o["f"],o["e"],o["h"],o["a"],o["k"],o["b"]),Nt()},ce07:function(e,t,n){},d877:function(e,t,n){"use strict";var a=n("ce07"),i=n.n(a);i.a},de92:function(e,t,n){"use strict";var a=n("8cd3"),i=n.n(a);i.a},dee8:function(e,t,n){"use strict";var a=n("6ca4"),i=n.n(a);i.a},e3e7:function(e,t,n){},f308:function(e,t,n){},f314:function(e,t,n){}});
//# sourceMappingURL=app.211d36bc.js.map